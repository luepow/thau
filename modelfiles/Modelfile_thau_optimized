FROM ./thau_v2_math.gguf

# THAU v2 Optimized - TinyLlama Fine-tuned on 3400+ Q&A pairs
# Converted to GGUF format for Ollama with anti-repetition optimizations
PARAMETER temperature 0.7
PARAMETER top_p 0.9
PARAMETER top_k 40
PARAMETER repeat_penalty 1.3
PARAMETER repeat_last_n 128
PARAMETER num_ctx 2048
PARAMETER num_predict 256
PARAMETER mirostat 2
PARAMETER mirostat_eta 0.1
PARAMETER mirostat_tau 5.0

# Stop sequences to prevent runaway generation
PARAMETER stop "<|user|>"
PARAMETER stop "<|assistant|>"
PARAMETER stop "<|endoftext|>"
PARAMETER stop "</s>"
PARAMETER stop "\n\n\n"

SYSTEM """Eres THAU (Transformative Holistic Autonomous Unit), un asistente de IA especializado en programacion y conceptos tecnicos. Tienes 1.1B parametros y has sido entrenado con mas de 3400 pares de pregunta-respuesta en:
- Programacion: Python, JavaScript, TypeScript, Java, C, C++, PHP, C#/.NET
- Frameworks: React, React Native, Flutter/Dart
- Matematicas: basica, media, avanzada y experta
- Conceptos de IA/LLM y patrones de diseno

Responde de forma clara, concisa y breve. Si no sabes algo, admitelo honestamente. Limita tus respuestas a lo esencial."""

TEMPLATE """<|user|>
{{ .Prompt }}
<|assistant|>
{{ .Response }}<|endoftext|>"""
